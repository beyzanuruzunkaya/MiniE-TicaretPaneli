@model MiniE_TicaretPaneli.Models.User
@{
    ViewData["Title"] = "Profilim";
}
<div class="container d-flex justify-content-center align-items-center" style="min-height: 80vh;">
    <div class="card shadow-lg p-5 border-0" style="max-width: 420px; width: 100%; border-radius: 1.5rem;">
        <div class="text-center mb-4">
            <img src="https://ui-avatars.com/api/?name=@Model.FirstName+@Model.LastName&background=0D8ABC&color=fff&size=128" class="rounded-circle shadow-sm mb-2" alt="Avatar" style="width: 96px; height: 96px; object-fit: cover;">
            <h2 class="fw-bold mb-0">@Model.FirstName @Model.LastName</h2>
            <div class="text-muted small">@Model.Email</div>
        </div>
        <h4 class="mb-3 text-center text-primary">Profil Bilgilerim</h4>
        @if (TempData["SuccessMessage"] != null)
        {
            <div class="alert alert-success text-center mb-3">@TempData["SuccessMessage"]</div>
        }
        <form asp-action="Profile" method="post" class="needs-validation" novalidate>
            @Html.AntiForgeryToken()
            <div class="mb-3">
                <label asp-for="FirstName" class="form-label">Ad</label>
                <input asp-for="FirstName" class="form-control form-control-lg rounded-pill" required />
                <span asp-validation-for="FirstName" class="text-danger small"></span>
            </div>
            <div class="mb-3">
                <label asp-for="LastName" class="form-label">Soyad</label>
                <input asp-for="LastName" class="form-control form-control-lg rounded-pill" required />
                <span asp-validation-for="LastName" class="text-danger small"></span>
            </div>
            <div class="mb-3">
                <label asp-for="Email" class="form-label">E-posta</label>
                <input asp-for="Email" class="form-control form-control-lg rounded-pill" required />
                <span asp-validation-for="Email" class="text-danger small"></span>
            </div>
            <div class="mb-3">
                <label asp-for="PhoneNumber" class="form-label">Telefon</label>
                <input asp-for="PhoneNumber" class="form-control form-control-lg rounded-pill" />
                <span asp-validation-for="PhoneNumber" class="text-danger small"></span>
            </div>
            <div class="mb-4">
                <label class="form-label">Yeni Şifre <span class="text-muted small">(değiştirmek istemiyorsanız boş bırakın)</span></label>
                <input type="password" name="newPassword" class="form-control form-control-lg rounded-pill" placeholder="Yeni şifre" />
            </div>
            <button type="submit" class="btn btn-primary btn-lg w-100 rounded-pill shadow-sm">Kaydet</button>
        </form>
    </div>
</div>
@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
    <script>
        // Bootstrap validation
        (() => {
            'use strict';
            const forms = document.querySelectorAll('.needs-validation');
            Array.from(forms).forEach(form => {
                form.addEventListener('submit', event => {
                    if (!form.checkValidity()) {
                        event.preventDefault();
                        event.stopPropagation();
                    }
                    form.classList.add('was-validated');
                }, false);
            });
        })();
    </script>
} 